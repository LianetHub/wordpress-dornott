(() => { "use strict"; if ($(".preloader").length > 0) { let e = setInterval(function () { let t = $("#percentage"), a = parseInt(t.text()); a < 90 ? t.text(++a) : a < 95 && "interactive" === document.readyState ? t.text(95) : a < 99 && "complete" === document.readyState && t.text(99), a >= 99 && "complete" === document.readyState && (clearInterval(e), t.text(100), setTimeout(function () { $("body").removeClass("preloading").addClass("is-loaded") }, 300)) }, 20) } $(function () { "undefined" != typeof Fancybox && null !== Fancybox && Fancybox.bind("[data-fancybox]", { dragToClose: !1 }); const e = { Android: () => /Android/i.test(navigator.userAgent), BlackBerry: () => /BlackBerry/i.test(navigator.userAgent), iOS: () => /iPhone|iPad|iPod/i.test(navigator.userAgent), Opera: () => /Opera Mini/i.test(navigator.userAgent), Windows: () => /IEMobile/i.test(navigator.userAgent), any: function () { return this.Android() || this.BlackBerry() || this.iOS() || this.Opera() || this.Windows() } }; function t() { e.any() || $(window).width() < 992 ? $("body").removeClass("_pc").addClass("_touch") : $("body").removeClass("_touch").addClass("_pc") } function a() { const e = $(".steps__item"); e.off("click mouseenter mouseleave"), $("body").hasClass("_pc") ? e.on("mouseenter", function () { $(this).addClass("active").siblings().removeClass("active") }) : e.on("click", function (e) { $(this).addClass("active").siblings().removeClass("active") }) } t(), a(), $(window).on("resize", () => { clearTimeout(window.resizeTimer), window.resizeTimer = setTimeout(() => { t(), a() }, 100) }), $(document).on("click", e => { const t = $(e.target); t.closest(".header__menu-toggler").length && ($(".header__menu-toggler").toggleClass("active"), $(".header").toggleClass("open-mobile-menu"), $("body").toggleClass("lock-mobile-menu")), !t.closest(".header").length && $(".header").hasClass("open-mobile-menu") && ($(".header__menu-toggler").removeClass("active"), $(".header").removeClass("open-mobile-menu"), $("body").removeClass("lock-mobile-menu")), t.closest(".favorite-btn").length && t.closest(".favorite-btn").toggleClass("active"), t.closest(".add-to-cart-button").length && t.closest(".add-to-cart-button").toggleClass("active") }); var n = document.querySelectorAll('input[type="tel"]'), o = function (e) { return e.value.replace(/\D/g, "") }, r = function (e) { var t = e.target, a = o(t), n = e.clipboardData || window.clipboardData; if (n) { var r = n.getData("Text"); if (/\D/g.test(r)) return void (t.value = a) } }, i = function (e) { var t = e.target, a = o(t), n = t.selectionStart, r = ""; if (!a) return t.value = ""; if (t.value.length == n) { if (["7", "8", "9"].indexOf(a[0]) > -1) { "9" == a[0] && (a = "7" + a); var i = "8" == a[0] ? "8" : "+7"; r = t.value = i + " ", a.length > 1 && (r += "(" + a.substring(1, 4)), a.length >= 5 && (r += ") " + a.substring(4, 7)), a.length >= 8 && (r += "-" + a.substring(7, 9)), a.length >= 10 && (r += "-" + a.substring(9, 11)) } else r = "+" + a.substring(0, 16); t.value = r } else e.data && /\D/g.test(e.data) && (t.value = a) }, s = function (e) { var t = e.target.value.replace(/\D/g, ""); 8 == e.keyCode && 1 == t.length && (e.target.value = "") }; for (var l of n) l.addEventListener("keydown", s), l.addEventListener("input", i, !1), l.addEventListener("paste", r, !1); if ($(".hero").length) { const e = $(".hero__images"), t = $(".hero__offer-slider"); if (e.length && t.length) { const a = new Swiper(e.get(0), { loop: !0, effect: "fade", fadeEffect: { crossFade: !0 }, speed: 600, allowTouchMove: !1, navigation: { nextEl: ".hero__next", prevEl: ".hero__prev" }, pagination: { el: ".hero__pagination", type: "fraction", formatFractionCurrent: e => e < 10 ? "0" + e : e, formatFractionTotal: e => e < 10 ? "0" + e : e, renderFraction: (e, t) => '<span class="' + e + '"></span>/<span class="' + t + '"></span>' } }), n = new Swiper(t.get(0), { loop: !0, speed: 600, effect: "fade", fadeEffect: { crossFade: !0 }, controller: { control: a } }); a.controller.control = n } } $(".product-card").length && $(".product-card").each(function (e, t) { const a = $(t).find(".product-card__slider"); if (!a.length) return; const n = $(t).find(".product-card__pagination")[0], o = new Swiper(a[0], { slidesPerView: 1, speed: 0, lazy: !0, watchOverflow: !0, pagination: { el: n, clickable: !0 } }), r = o.slides.length; if (r > 1) { const e = $('<div class="product-card__hover-areas"></div>'); e.css({ position: "absolute", top: 0, left: 0, right: 0, bottom: 0, display: "flex", zIndex: 10 }); for (let t = 0; t < r; t++) { const a = $('<div class="product-card__hover-area"></div>'); a.css({ flex: "1 1 0" }), a.on("mouseenter", () => { o.slideTo(t) }), e.append(a) } a.css("position", "relative").append(e) } }), $(document).on("change", ".product-card .product-card__variations-input", function () { var e = $(this).closest(".product-card"), t = $(this).val(), a = $(this).data("price-html"), n = $(this).data("regular-price-html"), o = !$(this).is(":disabled"), r = e.find('[data-price-role="current-price"]'), i = e.find('[data-price-role="regular-price"]'), s = e.find(".ajax_add_to_cart"); r.html(a), i.html(n), s.data("variation-id", t), o ? s.removeAttr("disabled") : s.attr("disabled", "disabled") }), $(".product-card").each(function () { var e = $(this).find(".product-card__variations-input:checked"); e.length && e.trigger("change") }); const c = $(".header"); new IntersectionObserver(function (e, t) { e[0].isIntersecting ? c.removeClass("scroll") : c.addClass("scroll") }).observe(c[0]) }) })();